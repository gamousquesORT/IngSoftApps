package util

import (
	"time"
	"IngSoftStaff/pkg/staff"
)

type DateTime struct {
	time.Time
}

// Convert the internal date as CSV string
func (date *DateTime) MarshalCSV() (string, error) {
	return date.String(), nil
}

// You could also use the standard Stringer interface
func (date DateTime) String() string {
	return date.Time.Format("01022006")
}

// Convert the CSV string as internal date
func (date *DateTime) UnmarshalCSV(csv string) (err error) {
	date.Time, err = time.Parse("01022006", csv)
	return err
}

type PersonCSV struct {
	ID            string `csv:"Persona"`
	FirstName     string `csv:"Nombre"`
	Surname       string `csv:"Apellido"`
	WorkEmail     string `csv:"Email_ORT"`
	PersonalEmail string `csv:"Email_Personal"`
	CellPhone     string `csv:"Celular"`
	Graduation    string `csv:"Graduado"`
	Degree        string `csv:"Grado"`
	LastPromotion string `csv:"FechaPromocion"`
}

func (s PersonCSV) ToPersonData() * staff.PersonData {
	return &staff.PersonData{
		ID:            s.ID,
		FirstName:     s.FirstName,
		Surname:       s.Surname,
		WorkEmail:     s.WorkEmail,
		PersonalEmail: s.PersonalEmail,
		CellPhone:     s.CellPhone,
		Graduation:    s.Graduation,
		Degree:        s.Degree,
	}
}




